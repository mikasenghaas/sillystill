# @package _global_

# To run: `python train.py -m experiment={filename}`

defaults:
  - override /data: paired
  - override /model: translation
  - override /model/net: unet
  - override /model/loss: silly
  - override /logger: wandb

group: full-data
tags: ["MSE"]
seed: 42

train: true
test: false
inference: true

data:
  image_dirs: 
    - data/paired/processed/film
    - data/paired/processed/digital

trainer:
  min_epochs: 50
  max_epochs: 400
  min_steps: -1
  max_steps: -1

  # Disable validation
  # num_sanity_val_steps: 0
  # limit_val_batches: 0

callbacks:
  early_stopping:
    monitor: "val/loss"
    patience: 10

model:
  net:
    with_noise: true
    hidden_channels: [64, 128, 256]
    kernel_size: 3
  loss:
    losses:
      # - _target_: src.models.loss.MAELoss
      - _target_: src.models.loss.MSELoss
      # - _target_: src.models.loss.VGGLoss
      # - _target_: src.models.loss.ColorLoss
      # - _target_: src.models.loss.GCLMLoss
      # - _target_: src.models.loss.FrequencyLoss
      # - _target_: src.models.loss.TVAbsoluteLoss
      #   mode: max
      #   grayscale: true
      # - _target_: src.models.loss.TVRelativeLoss
      #   grayscale: true
      # - _target_: src.models.loss.CoBiLoss
    weights: [1.0, 1.0]
  training_patch_size: 256